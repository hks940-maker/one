<html>
	<head>

		<meta charset="utf-8">
		<title>pie-chart</title>
	</head>
	<body>
		<script src="https://cdn.bootcdn.net/ajax/libs/d3/3.5.9/d3.js"></script>
		<script>
			var width = 500; //画布的宽度
			var height = 500; //画布的高度
			var svg = d3.select("body") //选择文档中的body元素
				.append("svg") //添加一个svg元素
				.attr("width", width) //设定宽度
				.attr("height", height) //设定高度
				.style('border','black solid 1px');
				
			var color = d3.scale.category10();	
			
			var dataset = [10, 20, 55, 26, 18];
			var pie = d3.layout.pie();
			var piedata = pie(dataset);
			
			var outerRadius = 150;
			var innerRadius = 0;
			var arc = d3.svg.arc()
				.innerRadius(innerRadius)
				.outerRadius(outerRadius)

			var arcs = svg.selectAll('g')
				.data(piedata)
				.enter()
				.append('g')
				.attr('transform', 'translate(' + (width / 2) + ',' + (height / 2) + ')')

			arcs.append('path')
				.attr('fill', function(d,i) {
					return color(i);
				})
				.attr('d', function(d) {
					console.log(arc(d))
					return arc(d)
				})

			arcs.append("text")
				.attr("transform", function(d) {
					return "translate(" + arc.centroid(d) + ")"; // 算出弧线的中心   
				})
				.attr("text-anchor", "middle")
				.text(function(d) {
					return d.data; //  d.data，而不是d，因为被绑定的数据是对象  
				})
		</script>
	</body>
</html>
